<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veo3 Character Prompt Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .generator-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 30px;
            margin-top: 30px;
            margin-bottom: 30px;
        }
        .character-card {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #f8f9fa;
        }
        .character-type-section {
            display: none;
        }
        .active-type {
            display: block;
        }
        .nav-tabs .nav-link.active {
            font-weight: bold;
        }
        .prompt-display {
            background-color: #f8f9fa;
            border-left: 4px solid #0d6efd;
            padding: 15px;
            min-height: 100px;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="container generator-container">
        <h1 class="text-center mb-4">Veo3 Character Video Prompt Generator</h1>
        
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="characters-tab" data-bs-toggle="tab" data-bs-target="#characters" type="button" role="tab">Characters</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="scene-tab" data-bs-toggle="tab" data-bs-target="#scene" type="button" role="tab">Scene Settings</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="dialogue-tab" data-bs-toggle="tab" data-bs-target="#dialogue" type="button" role="tab">Dialogue</button>
            </li>
        </ul>
        
        <div class="tab-content" id="myTabContent">
            <!-- CHARACTERS TAB -->
            <div class="tab-pane fade show active" id="characters" role="tabpanel">
                <div id="charactersContainer">
                    <!-- Character cards will be added here -->
                </div>
                <button class="btn btn-success mt-3" id="addCharacterBtn">Add Character</button>
            </div>
            
            <!-- SCENE SETTINGS TAB -->
            <div class="tab-pane fade" id="scene" role="tabpanel">
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Video Style</label>
                            <div class="btn-group-vertical w-100" id="styleOptions">
                                <button class="btn btn-outline-primary text-start" data-category="style">Cinematic</button>
                                <button class="btn btn-outline-primary text-start" data-category="style">Animated</button>
                                <button class="btn btn-outline-primary text-start" data-category="style">Realistic</button>
                                <button class="btn btn-outline-primary text-start" data-category="style">Surreal</button>
                                <button class="btn btn-outline-primary text-start" data-category="style">Minimalist</button>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Mood</label>
                            <div class="btn-group-vertical w-100" id="moodOptions">
                                <button class="btn btn-outline-primary text-start" data-category="mood">Epic</button>
                                <button class="btn btn-outline-primary text-start" data-category="mood">Dreamy</button>
                                <button class="btn btn-outline-primary text-start" data-category="mood">Dark</button>
                                <button class="btn btn-outline-primary text-start" data-category="mood">Happy</button>
                                <button class="btn btn-outline-primary text-start" data-category="mood">Mysterious</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Camera Movement</label>
                            <div class="btn-group-vertical w-100" id="cameraOptions">
                                <button class="btn btn-outline-primary text-start" data-category="camera">Dolly zoom</button>
                                <button class="btn btn-outline-primary text-start" data-category="camera">Tracking shot</button>
                                <button class="btn btn-outline-primary text-start" data-category="camera">Aerial view</button>
                                <button class="btn btn-outline-primary text-start" data-category="camera">Close-up</button>
                                <button class="btn btn-outline-primary text-start" data-category="camera">360 rotation</button>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Lighting</label>
                            <div class="btn-group-vertical w-100" id="lightingOptions">
                                <button class="btn btn-outline-primary text-start" data-category="lighting">Volumetric</button>
                                <button class="btn btn-outline-primary text-start" data-category="lighting">Neon</button>
                                <button class="btn btn-outline-primary text-start" data-category="lighting">Natural</button>
                                <button class="btn btn-outline-primary text-start" data-category="lighting">High contrast</button>
                                <button class="btn btn-outline-primary text-start" data-category="lighting">Soft</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="sceneAction" class="form-label">Scene Action/Description</label>
                    <textarea class="form-control" id="sceneAction" rows="3" placeholder="Describe what's happening in the scene"></textarea>
                </div>
            </div>
            
            <!-- DIALOGUE TAB -->
            <div class="tab-pane fade" id="dialogue" role="tabpanel">
                <div class="mb-3">
                    <label for="conversationType" class="form-label">Conversation Type</label>
                    <select class="form-select" id="conversationType">
                        <option value="monologue">Monologue</option>
                        <option value="dialogue">Dialogue</option>
                    </select>
                </div>
                
                <div id="monologueSection">
                    <div class="mb-3">
                        <label for="monologueCharacter" class="form-label">Character</label>
                        <select class="form-select" id="monologueCharacter"></select>
                    </div>
                    <div class="mb-3">
                        <label for="monologueText" class="form-label">Monologue Text</label>
                        <textarea class="form-control" id="monologueText" rows="3" placeholder="What the character is saying"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="monologueExpression" class="form-label">Expression/Intonation</label>
                        <input type="text" class="form-control" id="monologueExpression" placeholder="e.g., excited, whispering, angry">
                    </div>
                </div>
                
                <div id="dialogueSection" style="display: none;">
                    <div id="dialogueLinesContainer">
                        <!-- Dialogue lines will be added here -->
                    </div>
                    <button class="btn btn-primary mt-2" id="addDialogueLineBtn">Add Dialogue Line</button>
                </div>
            </div>
        </div>
        
        <div class="d-grid gap-2 mt-4">
            <button class="btn btn-primary" id="generateBtn">Generate Prompts</button>
        </div>
        
        <div class="mt-4">
            <h4>Generated Prompts:</h4>
            <ul class="nav nav-tabs" id="promptTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="indonesian-tab" data-bs-toggle="tab" data-bs-target="#indonesian" type="button" role="tab">Indonesian</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="english-tab" data-bs-toggle="tab" data-bs-target="#english" type="button" role="tab">English</button>
                </li>
            </ul>
            <div class="tab-content" id="promptTabContent">
                <div class="tab-pane fade show active" id="indonesian" role="tabpanel">
                    <div class="prompt-display" id="indonesianPrompt"></div>
                    <button class="btn btn-outline-secondary mt-2" onclick="copyPrompt('indonesianPrompt')">Copy Indonesian Prompt</button>
                </div>
                <div class="tab-pane fade" id="english" role="tabpanel">
                    <div class="prompt-display" id="englishPrompt"></div>
                    <button class="btn btn-outline-secondary mt-2" onclick="copyPrompt('englishPrompt')">Copy English Prompt</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Character Template -->
    <template id="characterTemplate">
        <div class="character-card" data-character-id="">
            <div class="character-header">
                <h5>Character <span class="character-number">1</span></h5>
                <button class="btn btn-sm btn-danger remove-character-btn">Remove</button>
            </div>
            <div class="mb-3">
                <label class="form-label">Character Type</label>
                <select class="form-select character-type">
                    <option value="human">Human</option>
                    <option value="animal">Animal</option>
                    <option value="anthro">Anthropomorphic Animal</option>
                    <option value="robot">Robot</option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label">Character Name</label>
                <input type="text" class="form-control character-name" placeholder="Character name">
            </div>
            
            <!-- Human Section -->
            <div class="character-type-section human-type active-type">
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Ethnicity</label>
                            <select class="form-select character-ethnicity">
                                <option value="Indonesian">Indonesian</option>
                                <option value="Chinese">Chinese</option>
                                <option value="Korean">Korean</option>
                                <option value="European">European</option>
                                <option value="Latin American">Latin American</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Age</label>
                            <input type="text" class="form-control character-age" placeholder="e.g., young, middle-aged">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Outfit</label>
                            <input type="text" class="form-control character-outfit" placeholder="e.g., business suit, traditional clothes">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Skin Tone</label>
                            <select class="form-select character-skintone">
                                <option value="light">Light</option>
                                <option value="medium">Medium</option>
                                <option value="dark">Dark</option>
                                <option value="olive">Olive</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Hair Color</label>
                            <input type="text" class="form-control character-haircolor" placeholder="e.g., black, brown">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Accessories</label>
                            <input type="text" class="form-control character-accessories" placeholder="e.g., glasses, hat">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Animal Section -->
            <div class="character-type-section animal-type">
                <div class="mb-3">
                    <label class="form-label">Animal Species</label>
                    <input type="text" class="form-control animal-species" placeholder="e.g., tiger, eagle">
                </div>
                <div class="mb-3">
                    <label class="form-label">Color/Pattern</label>
                    <input type="text" class="form-control animal-color" placeholder="e.g., orange with black stripes">
                </div>
            </div>
            
            <!-- Anthropomorphic Animal Section -->
            <div class="character-type-section anthro-type">
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Animal Species</label>
                            <input type="text" class="form-control anthro-species" placeholder="e.g., fox, bear">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Color/Pattern</label>
                            <input type="text" class="form-control anthro-color" placeholder="e.g., red fur, white belly">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Clothing</label>
                            <input type="text" class="form-control anthro-clothing" placeholder="e.g., leather jacket, armor">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Accessories</label>
                            <input type="text" class="form-control anthro-accessories" placeholder="e.g., sword, backpack">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Robot Section -->
            <div class="character-type-section robot-type">
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Design Style</label>
                            <input type="text" class="form-control robot-style" placeholder="e.g., futuristic, steampunk">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Primary Color</label>
                            <input type="text" class="form-control robot-color" placeholder="e.g., metallic silver, chrome">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3">
                            <label class="form-label">Special Features</label>
                            <input type="text" class="form-control robot-features" placeholder="e.g., glowing eyes, jetpack">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mb-3">
                <label class="form-label">Action in Scene</label>
                <input type="text" class="form-control character-action" placeholder="What the character is doing">
            </div>
        </div>
    </template>

    <!-- Dialogue Line Template -->
    <template id="dialogueLineTemplate">
        <div class="dialogue-line mb-3">
            <div class="row">
                <div class="col-md-4">
                    <label class="form-label">Character</label>
                    <select class="form-select dialogue-character"></select>
                </div>
                <div class="col-md-5">
                    <label class="form-label">Dialogue Text</label>
                    <input type="text" class="form-control dialogue-text" placeholder="What the character says">
                </div>
                <div class="col-md-2">
                    <label class="form-label">Expression</label>
                    <input type="text" class="form-control dialogue-expression" placeholder="e.g., angry, whispering">
                </div>
                <div class="col-md-1 d-flex align-items-end">
                    <button class="btn btn-sm btn-danger remove-dialogue-btn">X</button>
                </div>
            </div>
        </div>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const selectedOptions = {
                style: null,
                mood: null,
                camera: null,
                lighting: null
            };
            
            let characterCount = 0;
            let characters = [];
            
            // Initialize with one character
            addCharacter();
            
            // Handle category button clicks for scene settings
            document.querySelectorAll('.category-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    
                    // Remove active class from all buttons in this category
                    document.querySelectorAll(`.category-btn[data-category="${category}"]`).forEach(btn => {
                        btn.classList.remove('active');
                    });
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Store the selected value
                    selectedOptions[category] = this.textContent;
                });
            });
            
            // Add character button
            document.getElementById('addCharacterBtn').addEventListener('click', addCharacter);
            
            // Conversation type change
            document.getElementById('conversationType').addEventListener('change', function() {
                if (this.value === 'monologue') {
                    document.getElementById('monologueSection').style.display = 'block';
                    document.getElementById('dialogueSection').style.display = 'none';
                } else {
                    document.getElementById('monologueSection').style.display = 'none';
                    document.getElementById('dialogueSection').style.display = 'block';
                }
            });
            
            // Add dialogue line button
            document.getElementById('addDialogueLineBtn').addEventListener('click', addDialogueLine);
            
            // Generate prompt button
            document.getElementById('generateBtn').addEventListener('click', generatePrompts);
            
            function addCharacter() {
                characterCount++;
                const template = document.getElementById('characterTemplate');
                const clone = template.content.cloneNode(true);
                
                const characterCard = clone.querySelector('.character-card');
                characterCard.setAttribute('data-character-id', characterCount);
                
                const characterNumber = clone.querySelector('.character-number');
                characterNumber.textContent = characterCount;
                
                // Add remove character event
                const removeBtn = clone.querySelector('.remove-character-btn');
                removeBtn.addEventListener('click', function() {
                    characterCard.remove();
                    updateCharacterDropdowns();
                });
                
                // Handle character type change
                const typeSelect = characterCard.querySelector('.character-type');
                typeSelect.addEventListener('change', function() {
                    // Hide all sections
                    characterCard.querySelectorAll('.character-type-section').forEach(section => {
                        section.classList.remove('active-type');
                    });
                    
                    // Show selected section
                    const selectedType = this.value;
                    characterCard.querySelector(`.${selectedType}-type`).classList.add('active-type');
                });
                
                document.getElementById('charactersContainer').appendChild(clone);
                
                // Add to characters array
                const character = {
                    id: characterCount,
                    name: '',
                    type: 'human',
                    ethnicity: 'Indonesian',
                    age: '',
                    outfit: '',
                    skinTone: 'medium',
                    hairColor: '',
                    accessories: '',
                    species: '',
                    color: '',
                    clothing: '',
                    style: '',
                    features: '',
                    action: ''
                };
                
                characters.push(character);
                
                // Add event listeners to update character data
                characterCard.querySelector('.character-name').addEventListener('input', function() {
                    character.name = this.value;
                });
                
                characterCard.querySelector('.character-type').addEventListener('change', function() {
                    character.type = this.value;
                });
                
                // Human fields
                characterCard.querySelector('.character-ethnicity').addEventListener('change', function() {
                    character.ethnicity = this.value;
                });
                
                characterCard.querySelector('.character-age').addEventListener('input', function() {
                    character.age = this.value;
                });
                
                characterCard.querySelector('.character-outfit').addEventListener('input', function() {
                    character.outfit = this.value;
                });
                
                characterCard.querySelector('.character-skintone').addEventListener('change', function() {
                    character.skinTone = this.value;
                });
                
                characterCard.querySelector('.character-haircolor').addEventListener('input', function() {
                    character.hairColor = this.value;
                });
                
                characterCard.querySelector('.character-accessories').addEventListener('input', function() {
                    character.accessories = this.value;
                });
                
                // Animal fields
                characterCard.querySelector('.animal-species')?.addEventListener('input', function() {
                    character.species = this.value;
                });
                
                characterCard.querySelector('.animal-color')?.addEventListener('input', function() {
                    character.color = this.value;
                });
                
                // Anthro fields
                characterCard.querySelector('.anthro-species')?.addEventListener('input', function() {
                    character.species = this.value;
                });
                
                characterCard.querySelector('.anthro-color')?.addEventListener('input', function() {
                    character.color = this.value;
                });
                
                characterCard.querySelector('.anthro-clothing')?.addEventListener('input', function() {
                    character.clothing = this.value;
                });
                
                characterCard.querySelector('.anthro-accessories')?.addEventListener('input', function() {
                    character.accessories = this.value;
                });
                
                // Robot fields
                characterCard.querySelector('.robot-style')?.addEventListener('input', function() {
                    character.style = this.value;
                });
                
                characterCard.querySelector('.robot-color')?.addEventListener('input', function() {
                    character.color = this.value;
                });
                
                characterCard.querySelector('.robot-features')?.addEventListener('input', function() {
                    character.features = this.value;
                });
                
                // Action
                characterCard.querySelector('.character-action').addEventListener('input', function() {
                    character.action = this.value;
                });
                
                updateCharacterDropdowns();
            }
            
            function addDialogueLine() {
                const template = document.getElementById('dialogueLineTemplate');
                const clone = template.content.cloneNode(true);
                
                const characterSelect = clone.querySelector('.dialogue-character');
                updateCharacterDropdown(characterSelect);
                
                const removeBtn = clone.querySelector('.remove-dialogue-btn');
                removeBtn.addEventListener('click', function() {
                    clone.querySelector('.dialogue-line').remove();
                });
                
                document.getElementById('dialogueLinesContainer').appendChild(clone);
            }
            
            function updateCharacterDropdowns() {
                const monologueSelect = document.getElementById('monologueCharacter');
                const dialogueCharacterSelects = document.querySelectorAll('.dialogue-character');
                
                updateCharacterDropdown(monologueSelect);
                dialogueCharacterSelects.forEach(select => {
                    updateCharacterDropdown(select);
                });
            }
            
            function updateCharacterDropdown(selectElement) {
                // Clear existing options
                selectElement.innerHTML = '';
                
                // Get all character cards
                const characterCards = document.querySelectorAll('.character-card');
                
                characterCards.forEach(card => {
                    const characterId = card.getAttribute('data-character-id');
                    const characterName = card.querySelector('.character-name').value || `Character ${characterId}`;
                    
                    const option = document.createElement('option');
                    option.value = characterId;
                    option.textContent = characterName;
                    selectElement.appendChild(option);
                });
            }
            
            function generatePrompts() {
                // Get all character data
                const characterCards = document.querySelectorAll('.character-card');
                if (characterCards.length === 0) {
                    alert('Please add at least one character');
                    return;
                }
                
                const charactersData = [];
                
                characterCards.forEach(card => {
                    const characterId = card.getAttribute('data-character-id');
                    const type = card.querySelector('.character-type').value;
                    
                    const character = {
                        id: characterId,
                        name: card.querySelector('.character-name').value || `Character ${characterId}`,
                        type: type,
                        action: card.querySelector('.character-action').value
                    };
                    
                    // Human details
                    if (type === 'human') {
                        character.ethnicity = card.querySelector('.character-ethnicity').value;
                        character.age = card.querySelector('.character-age').value;
                        character.outfit = card.querySelector('.character-outfit').value;
                        character.skinTone = card.querySelector('.character-skintone').value;
                        character.hairColor = card.querySelector('.character-haircolor').value;
                        character.accessories = card.querySelector('.character-accessories').value;
                    }
                    // Animal details
                    else if (type === 'animal') {
                        character.species = card.querySelector('.animal-species').value;
                        character.color = card.querySelector('.animal-color').value;
                    }
                    // Anthro details
                    else if (type === 'anthro') {
                        character.species = card.querySelector('.anthro-species').value;
                        character.color = card.querySelector('.anthro-color').value;
                        character.clothing = card.querySelector('.anthro-clothing').value;
                        character.accessories = card.querySelector('.anthro-accessories')?.value || '';
                    }
                    // Robot details
                    else if (type === 'robot') {
                        character.style = card.querySelector('.robot-style').value;
                        character.color = card.querySelector('.robot-color').value;
                        character.features = card.querySelector('.robot-features').value;
                    }
                    
                    charactersData.push(character);
                });
                
                // Get scene settings
                const sceneAction = document.getElementById('sceneAction').value;
                
                // Get dialogue/monologue
                const conversationType = document.getElementById('conversationType').value;
                let dialogueData = [];
                
                if (conversationType === 'monologue') {
                    const characterId = document.getElementById('monologueCharacter').value;
                    const character = charactersData.find(c => c.id === characterId);
                    const text = document.getElementById('monologueText').value;
                    const expression = document.getElementById('monologueExpression').value;
                    
                    if (character && text) {
                        dialogueData.push({
                            character: character.name,
                            text: text,
                            expression: expression
                        });
                    }
                } else {
                    const dialogueLines = document.querySelectorAll('.dialogue-line');
                    dialogueLines.forEach(line => {
                        const characterId = line.querySelector('.dialogue-character').value;
                        const character = charactersData.find(c => c.id === characterId);
                        const text = line.querySelector('.dialogue-text').value;
                        const expression = line.querySelector('.dialogue-expression').value;
                        
                        if (character && text) {
                            dialogueData.push({
                                character: character.name,
                                text: text,
                                expression: expression
                            });
                        }
                    });
                }
                
                // Generate Indonesian prompt
                let indonesianPrompt = "Buat video dengan karakter:\n\n";
                
                charactersData.forEach(character => {
                    indonesianPrompt += `- ${character.name} (${getTypeName(character.type, 'id')}: `;
                    
                    if (character.type === 'human') {
                        indonesianPrompt += `${character.ethnicity}, ${character.age || 'usia tidak disebutkan'}`;
                        if (character.skinTone) indonesianPrompt += `, kulit ${character.skinTone}`;
                        if (character.hairColor) indonesianPrompt += `, rambut ${character.hairColor}`;
                        if (character.outfit) indonesianPrompt += `, mengenakan ${character.outfit}`;
                        if (character.accessories) indonesianPrompt += `, dengan aksesoris ${character.accessories}`;
                    }
                    else if (character.type === 'animal') {
                        indonesianPrompt += `${character.species || 'hewan'}`;
                        if (character.color) indonesianPrompt += ` berwarna ${character.color}`;
                    }
                    else if (character.type === 'anthro') {
                        indonesianPrompt += `${character.species || 'hewan antropomorfik'}`;
                        if (character.color) indonesianPrompt += ` berwarna ${character.color}`;
                        if (character.clothing) indonesianPrompt += `, mengenakan ${character.clothing}`;
                        if (character.accessories) indonesianPrompt += `, dengan aksesoris ${character.accessories}`;
                    }
                    else if (character.type === 'robot') {
                        indonesianPrompt += `robot bergaya ${character.style || 'futuristik'}`;
                        if (character.color) indonesianPrompt += ` berwarna ${character.color}`;
                        if (character.features) indonesianPrompt += `, dengan fitur ${character.features}`;
                    }
                    
                    if (character.action) indonesianPrompt += `, sedang ${character.action}`;
                    indonesianPrompt += "\n";
                });
                
                // Add scene settings
                indonesianPrompt += "\nPengaturan Adegan:\n";
                if (selectedOptions.style) indonesianPrompt += `- Gaya: ${selectedOptions.style}\n`;
                if (selectedOptions.mood) indonesianPrompt += `- Suasana: ${selectedOptions.mood}\n`;
                if (selectedOptions.camera) indonesianPrompt += `- Gerakan kamera: ${selectedOptions.camera}\n`;
                if (selectedOptions.lighting) indonesianPrompt += `- Pencahayaan: ${selectedOptions.lighting}\n`;
                if (sceneAction) indonesianPrompt += `- Deskripsi adegan: ${sceneAction}\n`;
                
                // Add dialogue
                if (dialogueData.length > 0) {
                    indonesianPrompt += "\nPercakapan:\n";
                    dialogueData.forEach(line => {
                        indonesianPrompt += `${line.character} (${line.expression || 'netral'}): "${line.text}"\n`;
                    });
                }
                
                // Generate English prompt
                let englishPrompt = "Create a video with characters:\n\n";
                
                charactersData.forEach(character => {
                    englishPrompt += `- ${character.name} (${getTypeName(character.type, 'en')}: `;
                    
                    if (character.type === 'human') {
                        englishPrompt += `${character.ethnicity}, ${character.age || 'unspecified age'}`;
                        if (character.skinTone) englishPrompt += `, ${character.skinTone} skin`;
                        if (character.hairColor) englishPrompt += `, ${character.hairColor} hair`;
                        if (character.outfit) englishPrompt += `, wearing ${character.outfit}`;
                        if (character.accessories) englishPrompt += `, with ${character.accessories} accessories`;
                    }
                    else if (character.type === 'animal') {
                        englishPrompt += `${character.species || 'animal'}`;
                        if (character.color) englishPrompt += ` with ${character.color} color/pattern`;
                    }
                    else if (character.type === 'anthro') {
                        englishPrompt += `${character.species || 'anthropomorphic animal'}`;
                        if (character.color) englishPrompt += ` with ${character.color} fur/feathers`;
                        if (character.clothing) englishPrompt += `, wearing ${character.clothing}`;
                        if (character.accessories) englishPrompt += `, with ${character.accessories} accessories`;
                    }
                    else if (character.type === 'robot') {
                        englishPrompt += `${character.style || 'futuristic'} style robot`;
                        if (character.color) englishPrompt += ` with ${character.color} coloring`;
                        if (character.features) englishPrompt += `, featuring ${character.features}`;
                    }
                    
                    if (character.action) englishPrompt += `, ${character.action}`;
                    englishPrompt += "\n";
                });
                
                // Add scene settings
                englishPrompt += "\nScene Settings:\n";
                if (selectedOptions.style) englishPrompt += `- Style: ${selectedOptions.style}\n`;
                if (selectedOptions.mood) englishPrompt += `- Mood: ${selectedOptions.mood}\n`;
                if (selectedOptions.camera) englishPrompt += `- Camera movement: ${selectedOptions.camera}\n`;
                if (selectedOptions.lighting) englishPrompt += `- Lighting: ${selectedOptions.lighting}\n`;
                if (sceneAction) englishPrompt += `- Scene description: ${sceneAction}\n`;
                
                // Add dialogue
                if (dialogueData.length > 0) {
                    englishPrompt += "\nDialogue:\n";
                    dialogueData.forEach(line => {
                        englishPrompt += `${line.character} (${line.expression || 'neutral'}): "${line.text}"\n`;
                    });
                }
                
                // Display prompts
                document.getElementById('indonesianPrompt').textContent = indonesianPrompt;
                document.getElementById('englishPrompt').textContent = englishPrompt;
            }
            
            function getTypeName(type, lang) {
                const names = {
                    'human': { 'id': 'Manusia', 'en': 'Human' },
                    'animal': { 'id': 'Hewan', 'en': 'Animal' },
                    'anthro': { 'id': 'Hewan Antropomorfik', 'en': 'Anthropomorphic Animal' },
                    'robot': { 'id': 'Robot', 'en': 'Robot' }
                };
                return names[type][lang];
            }
            
            window.copyPrompt = function(promptId) {
                const promptText = document.getElementById(promptId).textContent;
                if (promptText) {
                    navigator.clipboard.writeText(promptText)
                        .then(() => alert('Prompt copied to clipboard!'))
                        .catch(err => console.error('Failed to copy: ', err));
                }
            };
        });
    </script>
</body>
</html>